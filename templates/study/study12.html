<!DOCTYPE html>
<html>
    <head>
        <title>作用域</title>
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
        <link rel="stylesheet" href="../../css/bootstrap.css">
        <link rel="stylesheet" href="../../css/study.css">
        <link rel="stylesheet" href="../../css/prism.css">
    </head>
    <body style="font-family: HZKPixel;">
      <div class="parent">
        <div class="child">
          <div class="row">
            <div class="col-1"  >
              <div id="simple-list-example" class="d-flex flex-column gap-2 simple-list-example-scrollspy text-center" >
                <a class="btn-retro" href="../../templates/study/study1.html">C 教程</a>
                <a class="btn-retro" href="../../templates/study/study2.html">程序结构</a>
                <a class="btn-retro" href="../../templates/study/study3.html">基础语法</a>
                <a class="btn-retro" href="../../templates/study/study4.html">数据类型</a>
                <a class="btn-retro" href="../../templates/study/study5.html">变量</a>
                <a class="btn-retro" href="../../templates/study/study6.html">常量</a>
                <a class="btn-retro" href="../../templates/study/study7.html">存储类</a>
                <a class="btn-retro" href="../../templates/study/study8.html">运算符</a>
                <a class="btn-retro" href="../../templates/study/study9.html">判断</a>
                <a class="btn-retro" href="../../templates/study/study10.html">循环</a>
                <a class="btn-retro" href="../../templates/study/study11.html">函数</a>
                <a class="btn-retro" href="../../templates/study/study12.html">作用域</a>
                <a class="btn-retro" href="../../templates/study/study13.html">数组</a>
                <a class="btn-retro" href="../../templates/study/study14.html">枚举</a>
                <a class="btn-retro" href="../../templates/study/study15.html">指针</a>
                <a class="btn-retro" href="../../templates/study/study16.html">字符串</a>
                <a class="btn-retro" href="../../templates/study/study17.html">结构体</a>
              </div>
            </div>

            <div class="col-9">
              <h5>C 作用域规则</h5>
              <p>任何一种编程中，作用域是程序中定义的变量所存在的区域，超过该区域变量就不能被访问。C 语言中有三个地方可以声明变量：</p>
              <ol>
                <li>在函数或块内部的局部变量</li>
                <li>在所有函数外部的全局变量                </li>
                <li>在形式参数的函数参数定义中</li>
              </ol>
              <p>让我们来看看什么是局部变量、全局变量和形式参数</p>
              <hr>
              <h5>局部变量</h5>
              <p>在某个函数或块的内部声明的变量称为局部变量。它们只能被该函数或该代码块内部的语句使用。局部变量在函数外部是不可知的。下面是使用局部变量的实例。在这里，所有的变量 a、b 和 c 是 main() 函数的局部变量。</p>
              <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="code-block">                                        <pre><code class="language-clike">
                            #include &lt;stdio.h&gt
                            
 
                              int main ()
                              {
                                /* 局部变量声明 */
                                int a, b;
                                int c;
                               
                                /* 实际初始化 */
                                a = 10;
                                b = 20;
                                c = a + b;
                               
                                printf ("value of a = %d, b = %d and c = %d\n", a, b, c);
                               
                                return 0;
                              }
                            </code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <h5>全局变量</h5>
            <p>全局变量是定义在函数外部，通常是在程序的顶部。全局变量在整个程序生命周期内都是有效的，在任意的函数内部能访问全局变量。

              全局变量可以被任何函数访问。也就是说，全局变量在声明后整个程序中都是可用的。下面是使用全局变量和局部变量的实例：</p>
              <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="code-block">                                        <pre><code class="language-clike">
                            #include &lt;stdio.h&gt
                            
 
                              /* 全局变量声明 */
                              int g;
                               
                              int main ()
                              {
                                /* 局部变量声明 */
                                int a, b;
                               
                                /* 实际初始化 */
                                a = 10;
                                b = 20;
                                g = a + b;
                               
                                printf ("value of a = %d, b = %d and g = %d\n", a, b, g);
                               
                                return 0;
                              }
                            </code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <p>在程序中，局部变量和全局变量的名称可以相同，但是在函数内，如果两个名字相同，会使用局部变量值，全局变量不会被使用。下面是一个实例：</p>
            <div class="container">
              <div class="row">
                  <div class="col-md-12">
                      <div class="code-block">                                        <pre><code class="language-clike">
                          #include &lt;stdio.h&gt
                          
 
                            /* 全局变量声明 */
                            int g = 20;
                             
                            int main ()
                            {
                              /* 局部变量声明 */
                              int g = 10;
                             
                              printf ("value of g = %d\n",  g);
                             
                              return 0;
                            }
                          </code></pre>
                      </div>
                  </div>
              </div>
          </div>
          <p>当上面的代码被编译和执行时，它会产生下列结果：

            value of g = 10</p>
            <hr>
            <h5>形式参数</h5>
            <p>函数的参数，形式参数，被当作该函数内的局部变量，如果与全局变量同名它们会优先使用。下面是一个实例：</p>
            <div class="container">
              <div class="row">
                  <div class="col-md-12">
                      <div class="code-block">                                        <pre><code class="language-clike">
                          #include &lt;stdio.h&gt
                         
 
                            /* 全局变量声明 */
                            int a = 20;
                             
                            int main ()
                            {
                              /* 在主函数中的局部变量声明 */
                              int a = 10;
                              int b = 20;
                              int c = 0;
                              int sum(int, int);
                             
                              printf ("value of a in main() = %d\n",  a);
                              c = sum( a, b);
                              printf ("value of c in main() = %d\n",  c);
                             
                              return 0;
                            }
                             
                            /* 添加两个整数的函数 */
                            int sum(int a, int b)
                            {
                                printf ("value of a in sum() = %d\n",  a);
                                printf ("value of b in sum() = %d\n",  b);
                             
                                return a + b;
                            }
                          </code></pre>
                      </div>
                  </div>
              </div>
          </div>
          <p>当上面的代码被编译和执行时，它会产生下列结果：</p>
          <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="code-block">                                        <pre><code class="language-clike">
                      value of a in main() = 10
                      value of a in sum() = 10
                      value of b in sum() = 20
                      value of c in main() = 30
                      
        
                        </code></pre>
                    </div>
                </div>
            </div>
        </div>
            </div>
          </div>
        </div>
    </div>
        <script src="../../js/bootstrap.js" defer></script>
        <script src="../../js/prism.js"></script>
    </body>
</html>